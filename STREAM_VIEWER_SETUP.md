# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ç—Ä–∏–º–æ–≤ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

## –ß—Ç–æ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

1. **AdminStreamViewer.jsx** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ç—Ä–∏–º–∞ —Å –≤–∏–¥–µ–æ, —á–∞—Ç–æ–º –∏ –∫–∞—Ä—Ç–æ–π
2. **AdminStreamViewer.module.css** - —Å—Ç–∏–ª–∏ –≤ —Å—Ç–∏–ª–µ Twitch –¥–ª—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ StreamsPage - –∫–Ω–æ–ø–∫–∞ "View stream" (üëÅÔ∏è) –¥–ª—è –∂–∏–≤—ã—Ö —Å—Ç—Ä–∏–º–æ–≤

## –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
bun add agora-rtc-sdk-ng leaflet react-leaflet socket.io-client
```

- **agora-rtc-sdk-ng** - –¥–ª—è –≤–∏–¥–µ–æ-—Å—Ç—Ä–∏–º–∏–Ω–≥–∞ —á–µ—Ä–µ–∑ Agora
- **leaflet** –∏ **react-leaflet** - –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–∞—Ä—Ç—ã –º–∞—Ä—à—Ä—É—Ç–∞
- **socket.io-client** - –¥–ª—è —á–∞—Ç–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –î–æ–±–∞–≤—å—Ç–µ Agora App ID –≤ .env

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `.env` –∏ –∑–∞–º–µ–Ω–∏—Ç–µ `your_agora_app_id_here` –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π Agora App ID:

```env
VITE_API_URL=http://localhost:3000
VITE_AGORA_APP_ID=–≤–∞—à_—Ä–µ–∞–ª—å–Ω—ã–π_app_id
```

### 2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API —Ä–∞–±–æ—Ç–∞–µ—Ç

–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:

- `GET /admin/streams/active` - —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å—Ç—Ä–∏–º–æ–≤
- `GET /act/token/{channelName}/SUBSCRIBER/uid?uid={userId}&expiry=3600` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
- `GET /chat/messages/{actId}` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π —á–∞—Ç–∞
- `POST /chat/send` - –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç—Ä–∏–º–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É "Stream Management" –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
2. –ù–∞–π–¥–∏—Ç–µ –∞–∫—Ç–∏–≤–Ω—ã–π —Å—Ç—Ä–∏–º (—Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "Live")
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É üëÅÔ∏è (View stream)
4. –û—Ç–∫—Ä–æ–µ—Ç—Å—è –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π –ø–ª–µ–µ—Ä —Å:
   - **–í–∏–¥–µ–æ —Å—Ç—Ä–∏–º–∞** (—á–µ—Ä–µ–∑ Agora RTC)
   - **–ß–∞—Ç–æ–º** (–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥)
   - **–ö–∞—Ä—Ç–æ–π –º–∞—Ä—à—Ä—É—Ç–∞** (—Å —Ç–æ—á–∫–∞–º–∏ —Å—Ç–∞—Ä—Ç–∞ –∏ —Ñ–∏–Ω–∏—à–∞)
   - **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π** (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑—Ä–∏—Ç–µ–ª–µ–π –∏ –ª–∞–π–∫–æ–≤)

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

- **üîä/üîá** - –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫

- **‚õ∂** - –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º
- **‚úï** - –∑–∞–∫—Ä—ã—Ç—å –ø–ª–µ–µ—Ä
- **–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —á–∞—Ç** - –≤–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∏ –Ω–∞–∂–º–∏—Ç–µ "Send"

## –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω –¥–∏–∑–∞–π–Ω–æ–º Twitch:

- –¢–µ–º–Ω–∞—è —Ç–µ–º–∞ (#0e0e10, #18181b)
- –§–∏–æ–ª–µ—Ç–æ–≤—ã–µ –∞–∫—Ü–µ–Ω—Ç—ã (#9147ff, #bf94ff)
- –ö—Ä–∞—Å–Ω—ã–π –±–∞–¥–∂ "LIVE" (#e91916)
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

```
AdminStreamViewer/
‚îú‚îÄ‚îÄ VideoPlayer - –≤–∏–¥–µ–æ —Å Agora RTC
‚îú‚îÄ‚îÄ VideoControls - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (–∑–≤—É–∫, –ø–æ–ª–Ω—ã–π —ç–∫—Ä–∞–Ω, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
‚îú‚îÄ‚îÄ MapSection - –∫–∞—Ä—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–∞ (Leaflet)
‚îî‚îÄ‚îÄ ChatSection - —á–∞—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
```

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –í–∏–¥–µ–æ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ VITE_AGORA_APP_ID –≤ .env
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API `/act/token/` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ç–æ–∫–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏ Agora

### –ß–∞—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ API `/chat/messages/{actId}` –¥–æ—Å—Ç—É–ø–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

### –ö–∞—Ä—Ç–∞ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É —Å—Ç—Ä–∏–º–∞ –µ—Å—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã (startLatitude, startLongitude)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ CSS Leaflet –∑–∞–≥—Ä—É–∂–µ–Ω (–¥–æ–±–∞–≤–ª–µ–Ω –≤ main.jsx)

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

–ú–æ–∂–Ω–æ –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å:

- –ò—Å—Ç–æ—Ä–∏—é —á–∞—Ç–∞ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- –†–µ–∞–∫—Ü–∏–∏ –∏ —ç–º–æ–¥–∑–∏
- –°–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å—Ç—Ä–∏–º–∞
- –ú–æ–¥–µ—Ä–∞—Ü–∏—é —á–∞—Ç–∞ –∏–∑ –∞–¥–º–∏–Ω–∫–∏
- –ó–∞–ø–∏—Å—å —Å—Ç—Ä–∏–º–∞
- –°–∫—Ä–∏–Ω—à–æ—Ç—ã

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–ö–ª–∏–µ–Ω—Ç Agora**: —Ä–µ–∂–∏–º "live", —Ä–æ–ª—å "audience", codec "vp8"
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–∞—Ç–∞**: polling –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥ (–º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ WebSocket)
- **–ö–∞—Ä—Ç–∞**: OpenStreetMap tiles —á–µ—Ä–µ–∑ Leaflet
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å**: —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ, –ø–ª–∞–Ω—à–µ—Ç–∞—Ö –∏ –º–æ–±–∏–ª—å–Ω—ã—Ö

---

–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –∏–ª–∏ –¥–æ—Ä–∞–±–æ—Ç–∫–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ - –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å!
